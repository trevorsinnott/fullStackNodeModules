{"version":3,"sources":["components/Input.js","components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","components/App.js","index.js"],"names":["Input","text","value","handleChange","id","onChange","Filter","PersonForm","newPerson","submit","inputs","Object","keys","map","label","key","onSubmit","type","Persons","peopleToShow","deletePerson","person","name","number","onClick","baseUrl","axios","get","then","response","data","post","delete","newObject","put","Notification","message","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","error","style","App","useState","persons","setPersons","setNewPerson","showAll","searchValue","filterBy","setFilterBy","changeMessage","setChangeMessage","useEffect","personService","initialPersons","filter","toLowerCase","includes","event","newFilter","target","preventDefault","some","window","confirm","find","updatedPerson","returnedPerson","setTimeout","catch","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ba651ade.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Input = ({ text, value, handleChange }) => {\n  return (\n    <div>\n      {text}: <input id={text} value={value} onChange={handleChange} />\n    </div>\n  );\n};\n\nexport default Input;\n","import React from \"react\";\nimport Input from \"./Input\";\n\nconst Filter = ({ value, handleChange }) => {\n  return (\n    <div>\n      <Input\n        text=\"filter shown with\"\n        value={value}\n        handleChange={handleChange}\n      />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\nimport Input from \"./Input\";\n\nconst PersonForm = ({ newPerson, handleChange, submit }) => {\n  const inputs = Object.keys(newPerson).map((label) => {\n    return (\n      <Input\n        key={label}\n        value={newPerson[label]}\n        text={label}\n        handleChange={handleChange}\n      />\n    );\n  });\n\n  return (\n    <form onSubmit={submit}>\n      {inputs}\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Persons = ({ peopleToShow, deletePerson }) => {\n  return (\n    <table>\n      <tbody>\n        {peopleToShow.map((person) => (\n          <tr key={person.name}>\n            <td>{person.name}</td>\n            <td>{person.number}</td>\n            <td>\n              <button onClick={() => deletePerson(person.id)}>delete</button>\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nexport default Persons;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newPerson) => {\n  const request = axios.post(baseUrl, newPerson);\n  return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, create, remove, update };\n","import React from \"react\";\n\nconst Notification = ({ message }) => {\n  let notificationStyle =\n    message.text === \"\"\n      ? {}\n      : {\n          color: \"green\",\n          background: \"lightgrey\",\n          fontSize: 20,\n          borderStyle: \"solid\",\n          borderRadius: 5,\n          padding: 10,\n          marginBottom: 10,\n        };\n\n  if (message.error) {\n    notificationStyle = { ...notificationStyle, color: \"red\" };\n  }\n\n  return <div style={notificationStyle}>{message.text}</div>;\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./Filter\";\nimport PersonForm from \"./PersonForm\";\nimport Persons from \"./Persons\";\nimport personService from \"../services/persons\";\nimport Notification from \"./Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newPerson, setNewPerson] = useState({\n    name: \"\",\n    number: \"\",\n  });\n  const [filterBy, setFilterBy] = useState({ showAll: true, searchValue: \"\" });\n  const [changeMessage, setChangeMessage] = useState({\n    error: false,\n    text: \"\",\n  });\n\n  useEffect(() => {\n    personService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    if (\n      persons.some(\n        (person) => person.name.toLowerCase() === newPerson.name.toLowerCase()\n      )\n    ) {\n      if (\n        window.confirm(\n          `${newPerson.name} is already added to the phonebook, replace the old number with a new one?`\n        )\n      ) {\n        const person = persons.find(\n          (person) => person.name.toLowerCase() === newPerson.name.toLowerCase()\n        );\n        const updatedPerson = { ...person, number: newPerson.number };\n        personService\n          .update(person.id, updatedPerson)\n          .then((returnedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id === returnedPerson.id ? returnedPerson : person\n              )\n            );\n            setNewPerson({ name: \"\", number: \"\" });\n            setChangeMessage({\n              ...changeMessage,\n              text: `Updated ${returnedPerson.name}'s number`,\n            });\n            setTimeout(() => {\n              setChangeMessage({ ...changeMessage, text: \"\" });\n            }, 5000);\n          })\n          .catch((returnedPerson) => {\n            setChangeMessage({\n              error: true,\n              text: `Information for ${updatedPerson.name} has already been removed from server`,\n            });\n            setTimeout(() => {\n              setChangeMessage({ error: false, text: \"\" });\n            }, 5000);\n          });\n      }\n    } else {\n      personService.create(newPerson).then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n        setNewPerson({ name: \"\", number: \"\" });\n        setChangeMessage({\n          ...changeMessage,\n          text: `Added ${returnedPerson.name}`,\n        });\n        setTimeout(() => {\n          setChangeMessage({ ...changeMessage, text: \"\" });\n        }, 5000);\n      });\n    }\n  };\n\n  const handlePersonChange = (event) => {\n    const person = { ...newPerson };\n    person[event.target.id] = event.target.value;\n    setNewPerson(person);\n  };\n\n  const peopleToShow = filterBy.showAll\n    ? persons\n    : persons.filter((person) =>\n        person.name.toLowerCase().includes(filterBy.searchValue.toLowerCase())\n      );\n\n  const handleFilterChange = (event) => {\n    const newFilter = { ...filterBy };\n    if (event.target.value === \"\") {\n      newFilter.showAll = true;\n    } else {\n      newFilter.showAll = false;\n    }\n    newFilter.searchValue = event.target.value;\n    setFilterBy(newFilter);\n  };\n\n  const deletePerson = (id) => {\n    const person = persons.find((person) => person.id === id);\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService.remove(id).then(() => {\n        setPersons(persons.filter((person) => person.id !== id));\n        setChangeMessage({\n          ...setChangeMessage,\n          text: `Deleted ${persons.find((person) => person.id === id).name}`,\n        });\n        setTimeout(() => {\n          setChangeMessage({ ...changeMessage, text: \"\" });\n        }, 5000);\n      });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={changeMessage} />\n      <Filter value={filterBy.value} handleChange={handleFilterChange} />\n      <h3>add a new</h3>\n      <PersonForm\n        newPerson={newPerson}\n        handleChange={handlePersonChange}\n        submit={addPerson}\n      />\n      <h3>Numbers</h3>\n      <Persons peopleToShow={peopleToShow} deletePerson={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}